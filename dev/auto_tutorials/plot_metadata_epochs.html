<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Pandas querying and metadata with Epochs objects &#8212; MNE 0.16.dev0 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.16.dev0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />

    <script type="text/javascript" src="../_static/copybutton.js"></script>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37225609-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>


    <link rel="stylesheet" href="../_static/style.css " type="text/css" />
    <link rel="stylesheet" href="../_static/font-awesome.css" type="text/css" />
    <link rel="stylesheet" href="../_static/flag-icon.css" type="text/css" />



    <script type="text/javascript">
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);
    js.id=id;js.src="https://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
    </script>



    <script type="text/javascript">
    (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
    </script>


  </head>
  <body>

<div class="row devbar alert alert-danger">
This documentation is for <strong>development version 0.16.dev0</strong>.
</div>





  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/mne_logo_small.png"></span>
           </a>
        <span class="navbar-text navbar-version pull-left"><b>0.16.dev0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../getting_started.html">Install</a></li>
                <li><a href="../documentation.html">Documentation</a></li>
                <li><a href="../python_reference.html">API</a></li>
                <li><a href="../auto_examples/index.html">Examples</a></li>
                <li><a href="../contributing.html">Contribute</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
            
<div class="navbar-form navbar-right navbar-btn dropdown btn-group-sm" style="margin-left: 20px; margin-top: 5px; margin-bottom: 5px">
  <button type="button" class="btn btn-danger navbar-btn dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown">
    v0.16.dev0
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
    <li><a href="https://mne-tools.github.io/dev/">Development</a></li>
    <li><a href="https://mne-tools.github.io/stable/">v0.15 (stable)</a></li>
    <li><a href="https://mne-tools.github.io/0.14/">v0.14</a></li>
  </ul>
</div>

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/mne_logo_small.png" alt="Logo"/>
            </a></p><ul>
<li><a class="reference internal" href="#">Pandas querying and metadata with Epochs objects</a><ul>
<li><a class="reference internal" href="#loading-the-data">Loading the data</a></li>
</ul>
</li>
</ul>

<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-12 content">
      
  <div class="section" id="pandas-querying-and-metadata-with-epochs-objects">
<span id="sphx-glr-auto-tutorials-plot-metadata-epochs-py"></span><h1>Pandas querying and metadata with Epochs objects<a class="headerlink" href="#pandas-querying-and-metadata-with-epochs-objects" title="Permalink to this headline">¶</a></h1>
<p>Demonstrating pandas-style string querying with Epochs metadata.
For related uses of <a class="reference internal" href="../generated/mne.Epochs.html#mne.Epochs" title="mne.Epochs"><code class="xref py py-class docutils literal"><span class="pre">mne.Epochs</span></code></a>, see the starting tutorial
<a class="reference internal" href="plot_object_epochs.html#sphx-glr-auto-tutorials-plot-object-epochs-py"><span class="std std-ref">The Epochs data structure: epoched data</span></a>.</p>
<p>Sometimes you’ve got a more complex trials structure that cannot be easily
summarized as a set of unique integers. In this case, it may be useful to use
the <code class="docutils literal"><span class="pre">metadata</span></code> attribute of <a class="reference internal" href="../generated/mne.Epochs.html#mne.Epochs" title="mne.Epochs"><code class="xref py py-class docutils literal"><span class="pre">mne.Epochs</span></code></a> objects. This must be a
<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.20.3)"><code class="xref py py-class docutils literal"><span class="pre">pandas.DataFrame</span></code></a> where each row corresponds to an epoch, and each
column corresponds to a metadata attribute of each epoch. Columns must
contain either strings, ints, or floats.</p>
<p>In this dataset, subjects were presented with individual words
on a screen, and the EEG activity in response to each word was recorded.
We know which word was displayed in each epoch, as well as
extra information about the word (e.g., word frequency).</p>
<div class="section" id="loading-the-data">
<h2>Loading the data<a class="headerlink" href="#loading-the-data" title="Permalink to this headline">¶</a></h2>
<p>First we’ll load the data. If metadata exists for an <a class="reference internal" href="../generated/mne.Epochs.html#mne.Epochs" title="mne.Epochs"><code class="xref py py-class docutils literal"><span class="pre">mne.Epochs</span></code></a>
fif file, it will automatically be loaded in the <code class="docutils literal"><span class="pre">metadata</span></code> attribute.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Authors: Chris Holdgraf &lt;choldgraf@gmail.com&gt;</span>
<span class="c1">#          Jona Sassenhagen &lt;jona.sassenhagen@gmail.com&gt;</span>
<span class="c1">#          Eric Larson &lt;larson.eric.d@gmail.com&gt;</span>

<span class="c1"># License: BSD (3-clause)</span>

<span class="kn">import</span> <span class="nn">mne</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="c1"># Load the data from the internet</span>
<span class="n">path</span> <span class="o">=</span> <a href="../generated/mne.datasets.kiloword.data_path.html#mne.datasets.kiloword.data_path" title="View documentation for mne.datasets.kiloword.data_path"><span class="n">mne</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">kiloword</span><span class="o">.</span><span class="n">data_path</span></a><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;/kword_metadata-epo.fif&#39;</span>
<span class="n">epochs</span> <span class="o">=</span> <a href="../generated/mne.read_epochs.html#mne.read_epochs" title="View documentation for mne.read_epochs"><span class="n">mne</span><span class="o">.</span><span class="n">read_epochs</span></a><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="c1"># The metadata exists as a Pandas DataFrame</span>
<span class="k">print</span><span class="p">(</span><span class="n">epochs</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-default"><div class="highlight"><pre><span></span><span class="n">WORD</span>  <span class="n">Concreteness</span>  <span class="n">WordFrequency</span>  <span class="n">OrthographicDistance</span>  <span class="n">NumberOfLetters</span>  \
<span class="mi">0</span>  <span class="n">film</span>          <span class="mf">5.45</span>       <span class="mf">3.189490</span>                  <span class="mf">1.75</span>              <span class="mf">4.0</span>
<span class="mi">1</span>  <span class="n">cent</span>          <span class="mf">5.90</span>       <span class="mf">3.700704</span>                  <span class="mf">1.35</span>              <span class="mf">4.0</span>
<span class="mi">2</span>  <span class="n">shot</span>          <span class="mf">4.60</span>       <span class="mf">2.858537</span>                  <span class="mf">1.20</span>              <span class="mf">4.0</span>
<span class="mi">3</span>  <span class="n">cold</span>          <span class="mf">3.70</span>       <span class="mf">3.454540</span>                  <span class="mf">1.15</span>              <span class="mf">4.0</span>
<span class="mi">4</span>  <span class="n">main</span>          <span class="mf">3.00</span>       <span class="mf">3.539076</span>                  <span class="mf">1.35</span>              <span class="mf">4.0</span>
<span class="mi">5</span>  <span class="n">poet</span>          <span class="mf">4.95</span>       <span class="mf">2.485721</span>                  <span class="mf">1.60</span>              <span class="mf">4.0</span>
<span class="mi">6</span>  <span class="n">case</span>          <span class="mf">4.95</span>       <span class="mf">3.836767</span>                  <span class="mf">1.00</span>              <span class="mf">4.0</span>
<span class="mi">7</span>  <span class="n">land</span>          <span class="mf">5.40</span>       <span class="mf">3.648945</span>                  <span class="mf">1.20</span>              <span class="mf">4.0</span>
<span class="mi">8</span>  <span class="n">idea</span>          <span class="mf">1.95</span>       <span class="mf">3.688420</span>                  <span class="mf">1.90</span>              <span class="mf">4.0</span>
<span class="mi">9</span>  <span class="n">love</span>          <span class="mf">1.80</span>       <span class="mf">3.607026</span>                  <span class="mf">1.15</span>              <span class="mf">4.0</span>

   <span class="n">BigramFrequency</span>  <span class="n">ConsonantVowelProportion</span>  <span class="n">VisualComplexity</span>
<span class="mi">0</span>           <span class="mf">343.25</span>                      <span class="mf">0.75</span>         <span class="mf">55.783710</span>
<span class="mi">1</span>           <span class="mf">546.75</span>                      <span class="mf">0.75</span>         <span class="mf">63.141553</span>
<span class="mi">2</span>           <span class="mf">484.75</span>                      <span class="mf">0.75</span>         <span class="mf">64.600033</span>
<span class="mi">3</span>          <span class="mf">1095.25</span>                      <span class="mf">0.75</span>         <span class="mf">63.657457</span>
<span class="mi">4</span>           <span class="mf">686.00</span>                      <span class="mf">0.50</span>         <span class="mf">68.945661</span>
<span class="mi">5</span>           <span class="mf">309.25</span>                      <span class="mf">0.50</span>         <span class="mf">70.572593</span>
<span class="mi">6</span>           <span class="mf">690.25</span>                      <span class="mf">0.50</span>         <span class="mf">71.983982</span>
<span class="mi">7</span>           <span class="mf">757.50</span>                      <span class="mf">0.75</span>         <span class="mf">65.601033</span>
<span class="mi">8</span>           <span class="mf">201.75</span>                      <span class="mf">0.25</span>         <span class="mf">70.667496</span>
<span class="mi">9</span>           <span class="mf">337.25</span>                      <span class="mf">0.50</span>         <span class="mf">61.394212</span>
</pre></div>
</div>
<p>We can use this metadata attribute to select subsets of Epochs. This
uses the Pandas <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.query.html#pandas.DataFrame.query" title="(in pandas v0.20.3)"><code class="xref py py-meth docutils literal"><span class="pre">pandas.DataFrame.query()</span></code></a> method under the hood.
Any valid query string will work. Below we’ll make two plots to compare
between them:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">av1</span> <span class="o">=</span> <span class="n">epochs</span><span class="p">[</span><span class="s1">&#39;Concreteness &lt; 5 and WordFrequency &lt; 2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">average</span><span class="p">()</span>
<span class="n">av2</span> <span class="o">=</span> <span class="n">epochs</span><span class="p">[</span><span class="s1">&#39;Concreteness &gt; 5 and WordFrequency &gt; 2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">average</span><span class="p">()</span>

<span class="n">av1</span><span class="o">.</span><span class="n">plot_joint</span><span class="p">(</span><span class="n">show</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">av2</span><span class="o">.</span><span class="n">plot_joint</span><span class="p">(</span><span class="n">show</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<ul class="sphx-glr-horizontal">
<li><a class="first reference internal image-reference" href="../_images/sphx_glr_plot_metadata_epochs_001.png"><img alt="../_images/sphx_glr_plot_metadata_epochs_001.png" src="../_images/sphx_glr_plot_metadata_epochs_001.png" style="width: 376.0px; height: 197.4px;" /></a>
</li>
<li><a class="first reference internal image-reference" href="../_images/sphx_glr_plot_metadata_epochs_002.png"><img alt="../_images/sphx_glr_plot_metadata_epochs_002.png" src="../_images/sphx_glr_plot_metadata_epochs_002.png" style="width: 376.0px; height: 197.4px;" /></a>
</li>
</ul>
<p>Next we’ll choose a subset of words to keep.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;film&#39;</span><span class="p">,</span> <span class="s1">&#39;cent&#39;</span><span class="p">,</span> <span class="s1">&#39;shot&#39;</span><span class="p">,</span> <span class="s1">&#39;cold&#39;</span><span class="p">,</span> <span class="s1">&#39;main&#39;</span><span class="p">]</span>
<span class="n">epochs</span><span class="p">[</span><span class="s1">&#39;WORD in {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">words</span><span class="p">)]</span><span class="o">.</span><span class="n">plot_image</span><span class="p">(</span><span class="n">show</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../_images/sphx_glr_plot_metadata_epochs_003.png" class="align-center" src="../_images/sphx_glr_plot_metadata_epochs_003.png" />
<p>Note that traditional epochs sub-selection still works. The traditional
MNE methods for selecting epochs will supersede the rich metadata querying.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">epochs</span><span class="p">[</span><span class="s1">&#39;cent&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">average</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">show</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../_images/sphx_glr_plot_metadata_epochs_004.png" class="align-center" src="../_images/sphx_glr_plot_metadata_epochs_004.png" />
<p>Below we’ll show a more involved example that leverages the metadata
of each epoch. We’ll create a new column in our metadata object and use
it to generate averages for many subsets of trials.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Create a new metadata column</span>
<span class="n">meta</span> <span class="o">=</span> <span class="n">epochs</span><span class="o">.</span><span class="n">metadata</span>
<span class="n">is_concrete</span> <span class="o">=</span> <span class="n">meta</span><span class="p">[</span><span class="s2">&quot;WordFrequency&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">meta</span><span class="p">[</span><span class="s2">&quot;WordFrequency&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
<span class="n">meta</span><span class="p">[</span><span class="s2">&quot;is_concrete&quot;</span><span class="p">]</span> <span class="o">=</span> <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.where.html#numpy.where" title="View documentation for numpy.where"><span class="n">np</span><span class="o">.</span><span class="n">where</span></a><span class="p">(</span><span class="n">is_concrete</span><span class="p">,</span> <span class="s1">&#39;Concrete&#39;</span><span class="p">,</span> <span class="s1">&#39;Abstract&#39;</span><span class="p">)</span>
<span class="n">epochs</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">meta</span>

<span class="c1"># We&#39;ll create a dictionary so that we can plot with ``plot_compare_evokeds``</span>
<span class="n">categories</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;NumberOfLetters&quot;</span><span class="p">,</span> <span class="s2">&quot;is_concrete&quot;</span><span class="p">]</span>
<span class="n">avs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="p">(</span><span class="n">cat1</span><span class="p">,</span> <span class="n">cat2</span><span class="p">),</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">epochs</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">categories</span><span class="p">):</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s1">&#39;NumberOfLetters == {} and is_concrete == &quot;{}&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cat1</span><span class="p">,</span> <span class="n">cat2</span><span class="p">)</span>
    <span class="n">this_epochs</span> <span class="o">=</span> <span class="n">epochs</span><span class="p">[</span><span class="n">query</span><span class="p">]</span>
    <span class="n">avs</span><span class="p">[</span><span class="s2">&quot;{}/{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cat1</span><span class="p">,</span> <span class="n">cat2</span><span class="p">)]</span> <span class="o">=</span> <span class="n">this_epochs</span><span class="o">.</span><span class="n">average</span><span class="p">()</span>

<span class="c1"># Style the plot</span>
<span class="n">colors</span> <span class="o">=</span> <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.linspace.html#numpy.linspace" title="View documentation for numpy.linspace"><span class="n">np</span><span class="o">.</span><span class="n">linspace</span></a><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">avs</span><span class="p">))</span>
<span class="n">style_plot</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">colors</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s1">&#39;YlGnBu_r&#39;</span><span class="p">)(</span><span class="n">colors</span><span class="p">),</span>
    <span class="n">linestyles</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Concrete&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;Abstract&#39;</span><span class="p">:</span> <span class="s1">&#39;--&#39;</span><span class="p">}</span>
<span class="p">)</span>

<span class="c1"># Make the plot</span>
<span class="n">ix_plot</span> <span class="o">=</span> <a href="../generated/mne.pick_channels.html#mne.pick_channels" title="View documentation for mne.pick_channels"><span class="n">mne</span><span class="o">.</span><span class="n">pick_channels</span></a><span class="p">(</span><span class="n">epochs</span><span class="o">.</span><span class="n">ch_names</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Pz&#39;</span><span class="p">])</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <a href="http://matplotlib.org/api/_as_gen/matplotlib.pyplot.subplots.html#matplotlib.pyplot.subplots" title="View documentation for matplotlib.pyplot.subplots"><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span></a><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">fig</span> <span class="o">=</span> <a href="../generated/mne.viz.plot_compare_evokeds.html#mne.viz.plot_compare_evokeds" title="View documentation for mne.viz.evoked.plot_compare_evokeds"><span class="n">mne</span><span class="o">.</span><span class="n">viz</span><span class="o">.</span><span class="n">evoked</span><span class="o">.</span><span class="n">plot_compare_evokeds</span></a><span class="p">(</span>
    <span class="n">avs</span><span class="p">,</span> <span class="n">picks</span><span class="o">=</span><span class="n">ix_plot</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="o">**</span><span class="n">style_plot</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="p">[</span><span class="mf">1.05</span><span class="p">,</span> <span class="o">.</span><span class="mi">1</span><span class="p">])</span>
<a href="http://matplotlib.org/api/_as_gen/matplotlib.pyplot.show.html#matplotlib.pyplot.show" title="View documentation for matplotlib.pyplot.show"><span class="n">plt</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/sphx_glr_plot_metadata_epochs_005.png" class="align-center" src="../_images/sphx_glr_plot_metadata_epochs_005.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Creating an <a class="reference internal" href="../generated/mne.Epochs.html#mne.Epochs" title="mne.Epochs"><code class="xref py py-class docutils literal"><span class="pre">mne.Epochs</span></code></a> object with metadata is done by passing
a <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.20.3)"><code class="xref py py-class docutils literal"><span class="pre">pandas.DataFrame</span></code></a> to the <code class="docutils literal"><span class="pre">metadata</span></code> kwarg as follows:</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">epochs</span><span class="o">.</span><span class="n">get_data</span><span class="p">()</span>
<span class="n">metadata</span> <span class="o">=</span> <span class="n">epochs</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">epochs_new</span> <span class="o">=</span> <a href="../generated/mne.EpochsArray.html#mne.EpochsArray" title="View documentation for mne.EpochsArray"><span class="n">mne</span><span class="o">.</span><span class="n">EpochsArray</span></a><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">epochs</span><span class="o">.</span><span class="n">info</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Total running time of the script:</strong> ( 0 minutes  2.725 seconds)</p>
<div class="sphx-glr-footer docutils container">
<div class="sphx-glr-download docutils container">
<a class="reference download internal" href="../_downloads/plot_metadata_epochs.py" download=""><code class="xref download docutils literal"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_metadata_epochs.py</span></code></a></div>
<div class="sphx-glr-download docutils container">
<a class="reference download internal" href="../_downloads/plot_metadata_epochs.ipynb" download=""><code class="xref download docutils literal"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_metadata_epochs.ipynb</span></code></a></div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.readthedocs.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>


    </div>
    
  </div>
</div>
<footer class="footer">
  <div class="container"><img src="../_static/institutions.png" alt="Institutions"></div>
  <div class="container">
    <ul class="list-inline">
      <li><a href="https://github.com/mne-tools/mne-python">GitHub</a></li>
      <li>·</li>
      <li><a href="https://mail.nmr.mgh.harvard.edu/mailman/listinfo/mne_analysis">Mailing list</a></li>
      <li>·</li>
      <li><a href="https://gitter.im/mne-tools/mne-python">Gitter</a></li>
      <li>·</li>
      <li><a href="whats_new.html">What's new</a></li>
      <li>·</li>
      <li><a href="faq.html#cite">Cite MNE</a></li>
      <li class="pull-right"><a href="#">Back to top</a></li>
    </ul>
    <p>&copy; Copyright 2012-2017, MNE Developers. Last updated on 2017-10-20.</p>
  </div>
</footer>
  </body>
</html>